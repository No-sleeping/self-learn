# 一、什么是Raid？它有什么作用？

## 1. 什么是Raid

raid就是冗余磁盘阵列，通常称作「磁盘阵列」的RAID (Redundant Array of Independent Disks)功能，多半是应用在NAS这类肩负资料储存的设备上，它能依据NAS里硬盘数量、容量的不同，提供不同的RAID模式让使用者选用后，再依据所选用的RAID模式，把一颗以上的硬盘合并成一个可用的单一储存空间，或者是配置成一个可用的储存空间和一个用于资料保护的储存空间。

透过RAID功能，NAS可以把使用者的资料利用特殊的演算法分散储存在不同的硬盘里。

如此一来，除了可以提高资料存取的效能外，还能够借由资料分散、储存的「资料容错」方式，**一旦发生其中一颗硬盘故障时，就可以在装入新硬盘后，利用分散在其它硬盘的资料还原出正确、完整的资料**，来确保使用者所储存的资料完整度和可靠性。把多个硬磁盘驱动器按照一定的要求使整个磁盘阵列由阵列控制器管理组成一个储存系统。

最开始研制目的是为了利用多个廉价的小磁盘来替代昂贵的大磁盘，以此来降低成本。而随着硬盘技术的发展，如今的磁盘阵列采用了冗余信息的方式，使得其具有数据保护的功能。

## 2.RAID磁盘阵列对于服务器的两个主要作用

### 2.1 磁盘阵列作用一：提供容错功能

普通的磁盘驱动器是无法提供容错功能的，而磁盘阵列可以通过数据校验提供容错功能，服务器会将数据写入多个磁盘，如果某个磁盘发生故障时,此时仍能保证信息的可用性，重要数据不会丢失，也不会耽误服务器的正常运转。

### 2.2 磁盘阵列作用二：提高传输速率

磁盘阵列将多个磁盘组成一个阵列，当作一个单一的磁盘使用，把数据已分段的形式存储到不同的硬盘之中，发生数据存取变动时，阵列中的相关磁盘一起工作,这就可以大幅的降低数据存储的时间，同时还能拥有更佳的空间和使用率。

<br/>

# 二、特点

## raid0 (一块硬盘或者以上就可做raid0)

优势：**数据读取写入最快**，最大优势提高硬盘容量，比如3块80G的硬盘做raid0，可用总容量为240G，也就是利用率是100%，速度也比较快。

缺点：无冗余能力，**一块硬盘损坏，数据全无**。

建议：做raid0 可以提供更好的容量以及性能，推荐对数据安全性要求不高的项目使用。

另外，RAID 0模式的储存空间会依据NAS或RAID控制卡「是否支援不同容量硬盘」，而有不同的储存空间结果，例如使用500GB、750GB两颗硬盘组成RAID 0模式的磁盘阵列时，如果NAS或RAID控制 卡「不支援不同容量硬盘」的话，那么，磁盘阵列的储存空间大小是「最小的硬盘容量乘上硬盘数 量」，也就是1TB (500GB x 2)，至于多余的250GB也将闲置、无法使用；相反，如果NAS或RAID控制 卡「支援不同容量硬盘」的话，那么，磁盘阵列的储存空间大小就是「所有硬盘空间的总和」，也 就是1.25TB (500GB + 750GB)。

![](https://img-blog.csdnimg.cn/20181224085656199.png)

<br/>

<br/>

## raid1 (至少2块硬盘可做raid1)

优势：**镜像，数据安全强**，一块正常运行，另外一块镜像备份数据，保障数据的安全。一块坏了，另外一块硬盘也有完整的数据，保障运行。所以这种安全性比较性最高。

缺点：性能提示不明显，**做raid1之后硬盘使用率为50%**，有些费硬盘。

建议：对数据安全性要求比较高的项目。可以使用Raid1。

<br/>

![](https://img-blog.csdnimg.cn/20181224085656202.jpeg)

借由同步并完整存放资料的镜像硬盘，RAID 1模式与其它RAID模式相比，在资料安全性上可说 是最好的，不过它在储存空间的利用率却也是最差的。因为不管用多少颗硬盘组成的RAID 1磁盘阵列，它的储存空间大小永远都是「主硬盘单颗硬盘的容量」，例如500GB、500GB与500GB、 750GB，以及500GB、500GB、500GB组成RAID 1磁盘阵列时，它的储存空间大小都是500GB，但是使用750GB硬盘的第二组磁盘阵列，会有250GB的磁盘空间无法使用；而使用三颗500GB硬盘的第三组磁盘阵列，将会有两颗各500GB的硬盘空间用来做为镜像磁盘，随时接手其它两颗硬盘同时故障时所提供的资料存取服务。

## raid5 (至少需要3块硬盘raid5)

优势：上面提到的Raid0与Raid1的优势，raid5都兼顾。RAID5最少需要三块硬盘，通用做法是用4块硬盘，其中有一块硬盘是用来做数据冗余的，如果做RAID5的服务器上有一块硬盘坏掉了，那么我们需要把坏的盘剥下来，然后换上一块新的硬盘，系统会自动进行数据同步。

可用容量：单块磁盘容量*（n-1)，n为磁盘数。

安全性能方面，RAID1最高，RAID5次于RAID1。

缺点：只允许单盘故障，一盘出现故障得尽快处理。有盘坏情况下，raid5 IO/CPU性能狂跌，此时性能烂到无以复加。

建议：盘不多，对数据安全性和性能提示都有要求，raid5是个不错选择，盘多可考虑riad10。

![](https://img-blog.csdnimg.cn/20181224085656240.gif)

通俗来说，你有3个2t的盘，那么其中2个盘放数据，1个盘当备份，这样不管你哪个盘坏了数据都还在。可用空间就是少了1个盘的容量。安全性比basic好，可用容量比raid1高，是比较折中的一种模式。如果有大量数据需要做备份的，可以使用这种模式，性价比比raid1更高。

## raid10 (至少需要4块硬盘)

优势：兼顾安全性和速度。基础4盘的情况下，raid10允许对硬盘2块故障，随着硬盘数量的提示，容错量也会相对应提升，这是raid5无法做到的。

缺点：对盘的数量要求稍高，磁盘使用率为50%。

建议：硬盘数量足够的情况，建议riad10。

![](https://pics0.baidu.com/feed/d1160924ab18972b5364de94a8715b839f510a5c.jpeg?token=bde8b2a1ab28084c696d542f7fb3030f)

<br/>

# 三、汇总

![](https://image.dandelioncloud.cn/images/20220415/12f64f5f3ec649f8836a4ba65b8e0940.png)

![](https://pics1.baidu.com/feed/cefc1e178a82b9014926615e3a31897d3812ef1e.jpeg?token=ce08df129008b5dd5a8d113666a56223)

<br/>

---

参考：

https://baijiahao.baidu.com/s?id=1729088726339528600&wfr=spider&for=pc

https://blog.csdn.net/hi1234560/article/details/124439220
